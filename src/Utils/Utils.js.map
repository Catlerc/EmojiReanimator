{"version":3,"file":"Utils.js","sourceRoot":"","sources":["Utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,MAAM,EAAC,MAAM,cAAc,CAAC;AAGpC;IAAA;IA8BA,CAAC;IA7BQ,sBAAgB,GAAvB,UAAwB,WAAwB,EAAE,IAAY;QAC5D,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,WAAW,CAAC,EAAE,EAAC,IAAI,EAAE,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,EAAC,CAAC,CAAC;QACzE,IAAM,UAAU,GAAG,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC;QAClD,OAAO,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEM,kBAAY,GAAnB,UAAoB,KAAa,EAAE,MAAc;QAC/C,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;QACjD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAA;QACtB,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAA;QAGxB,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;IACpC,CAAC;IAEM,wBAAkB,GAAzB,UAA0B,SAAoB;QAC5C,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACpC,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAC/B,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QACjC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAElC,OAAO,MAAM,CAAC,SAAS,EAAE,CAAC;IAC5B,CAAC;IAEM,wBAAkB,GAAzB,UAA0B,SAAe;QACvC,IAAM,UAAU,GAAG,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,SAAS,CAAA;QACjD,OAAO,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,CAAA;IAC9C,CAAC;IACH,YAAC;AAAD,CAAC,AA9BD,IA8BC","sourcesContent":["import {fabric} from \"../Vendor.js\";\r\nimport {DataUrl} from \"../Domain.js\";\r\n\r\nexport class Utils {\r\n  static arrayBufferToUrl(imageBuffer: ArrayBuffer, type: String) {\r\n    const blob = new Blob([imageBuffer], {type: \"image/\" + type.toString()});\r\n    const urlCreator = window.URL || window.webkitURL;\r\n    return urlCreator.createObjectURL(blob);\r\n  }\r\n\r\n  static createCanvas(width: number, height: number) {\r\n    const renderer = document.createElement('canvas')\r\n    renderer.width = width\r\n    renderer.height = height\r\n\r\n\r\n    return new fabric.Canvas(renderer)\r\n  }\r\n\r\n  static imageDataToDataUrl(imageData: ImageData): DataUrl {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    canvas.width = imageData.width;\r\n    canvas.height = imageData.height;\r\n    ctx.putImageData(imageData, 0, 0);\r\n\r\n    return canvas.toDataURL();\r\n  }\r\n\r\n  static imageBlobToDataUrl(imageBlob: Blob): DataUrl {\r\n    const urlCreator = window.URL || window.webkitURL\r\n    return urlCreator.createObjectURL(imageBlob)\r\n  }\r\n}"]}