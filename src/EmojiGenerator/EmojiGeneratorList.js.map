{"version":3,"file":"EmojiGeneratorList.js","sourceRoot":"","sources":["EmojiGeneratorList.ts"],"names":[],"mappings":"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","sourcesContent":["import {LinearGenerator, Reverse, RotationGenerator, TurnGenerator, TurnGeneratorFlex} from \"./FrameGenerator.js\"\r\nimport {FlipHorizontal, FlipVertical} from \"./ImagePreprocess.js\"\r\nimport {EmojiGenerator} from \"./EmojiGenerator.js\"\r\nimport {Option} from \"../Utils/Option.js\"\r\n\r\nexport class EmojiGeneratorList {\r\n  static allGenerators: Map<string, EmojiGenerator> = new Map([\r\n    new EmojiGenerator(\"rotation\", RotationGenerator, 0),\r\n    new EmojiGenerator(\"dr\", TurnGeneratorFlex, 270),\r\n    new EmojiGenerator(\"du\", LinearGenerator, 270),\r\n    new EmojiGenerator(\"ld\", TurnGeneratorFlex, 0),\r\n    new EmojiGenerator(\"lr\", LinearGenerator, 0),\r\n    new EmojiGenerator(\"rl\", LinearGenerator, 180),\r\n    new EmojiGenerator(\"ru\", TurnGeneratorFlex, 180),\r\n    new EmojiGenerator(\"ud\", LinearGenerator, 90),\r\n    new EmojiGenerator(\"ul\", TurnGeneratorFlex, 90),\r\n    new EmojiGenerator(\"dl\", Reverse(TurnGeneratorFlex), 0, [FlipHorizontal, FlipVertical]),\r\n    new EmojiGenerator(\"lu\", Reverse(TurnGeneratorFlex), 90, [FlipHorizontal, FlipVertical]),\r\n    new EmojiGenerator(\"rd\", Reverse(TurnGeneratorFlex), 270, [FlipHorizontal, FlipVertical]),\r\n    new EmojiGenerator(\"ur\", Reverse(TurnGeneratorFlex), 180, [FlipHorizontal, FlipVertical])\r\n  ].map(renderer => [renderer.namePrefix, renderer]))\r\n\r\n  static anotherRotationGenerators: Map<string, EmojiGenerator> = new Map([\r\n    new EmojiGenerator(\"ld\", TurnGenerator, 0),\r\n    new EmojiGenerator(\"ul\", TurnGenerator, 90),\r\n    new EmojiGenerator(\"ru\", TurnGenerator, 180),\r\n    new EmojiGenerator(\"dr\", TurnGenerator, 270),\r\n    new EmojiGenerator(\"dl\", Reverse(TurnGenerator), 0, [FlipHorizontal, FlipVertical]),\r\n    new EmojiGenerator(\"lu\", Reverse(TurnGenerator), 90, [FlipHorizontal, FlipVertical]),\r\n    new EmojiGenerator(\"ur\", Reverse(TurnGenerator), 180, [FlipHorizontal, FlipVertical]),\r\n    new EmojiGenerator(\"rd\", Reverse(TurnGenerator), 270, [FlipHorizontal, FlipVertical])\r\n  ].map(renderer => [renderer.namePrefix, renderer]))\r\n\r\n  constructor(\r\n    private anotherRotation: boolean,\r\n    private animationReverse: boolean,\r\n    private flipHorizontal: boolean,\r\n    private flipVertical: boolean\r\n  ) {\r\n  }\r\n\r\n  getGenerator(name: string): EmojiGenerator {\r\n    let resultEmojiGenerator: EmojiGenerator\r\n    if (this.anotherRotation) {\r\n      resultEmojiGenerator = Option.fromValue(EmojiGeneratorList.anotherRotationGenerators.get(name)).getOrElse(EmojiGeneratorList.allGenerators.get(name))\r\n    } else {\r\n      resultEmojiGenerator = Option.fromValue(EmojiGeneratorList.allGenerators.get(name)).getOrElse(EmojiGeneratorList.anotherRotationGenerators.get(name))\r\n    }\r\n    if (this.animationReverse) resultEmojiGenerator = new EmojiGenerator(\r\n      resultEmojiGenerator.namePrefix,\r\n      Reverse(resultEmojiGenerator.frameGenerator),\r\n      resultEmojiGenerator.rotation,\r\n      resultEmojiGenerator.preprocess\r\n    )\r\n    if (this.flipHorizontal) {\r\n      const preprocess = [...resultEmojiGenerator.preprocess]\r\n      preprocess.push(FlipHorizontal)\r\n      resultEmojiGenerator = new EmojiGenerator(\r\n        resultEmojiGenerator.namePrefix,\r\n        resultEmojiGenerator.frameGenerator,\r\n        resultEmojiGenerator.rotation,\r\n        preprocess\r\n      )\r\n    }\r\n    if (this.flipVertical) {\r\n      const preprocess = [...resultEmojiGenerator.preprocess]\r\n      preprocess.push(FlipVertical)\r\n      resultEmojiGenerator = new EmojiGenerator(\r\n        resultEmojiGenerator.namePrefix,\r\n        resultEmojiGenerator.frameGenerator,\r\n        resultEmojiGenerator.rotation,\r\n        preprocess\r\n      )\r\n    }\r\n    return resultEmojiGenerator\r\n  }\r\n}"]}