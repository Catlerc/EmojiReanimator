{"version":3,"file":"FrameGenerator.js","sourceRoot":"","sources":["FrameGenerator.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,MAAM,CAAC,IAAM,eAAe,GAC1B,UAAO,KAAK,EAAE,IAAI;;;;oBACF,WAAM,KAAK,CAAC,IAAI,EAAE,EAAA;;gBAA1B,KAAK,GAAG,SAAkB;gBAEhC,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAA;gBAC7B,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAA;gBACnC,WAAO,CAAC,KAAK,EAAE,KAAK,CAAC,EAAA;;;KACtB,CAAA;AAEH,MAAM,CAAC,IAAM,iBAAiB,GAC5B,UAAO,KAAK,EAAE,IAAI;;;;oBACF,WAAM,KAAK,CAAC,IAAI,EAAE,EAAA;;gBAA1B,KAAK,GAAG,SAAkB;gBACnB,WAAM,KAAK,CAAC,IAAI,EAAE,EAAA;;gBAAzB,IAAI,GAAG,SAAkB;gBAE/B,IAAI,IAAI,IAAI,GAAG;oBACb,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAA;qBAC1B;oBACH,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;oBAClB,KAAK,CAAC,GAAG,CAAC;wBACR,OAAO,EAAE,QAAQ;wBACjB,OAAO,EAAE,QAAQ;wBACjB,KAAK,EAAE,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;qBACzB,CAAC,CAAA;iBACH;gBAED,IAAI,IAAI,IAAI,GAAG,EAAE;oBACf,IAAI,CAAC,GAAG,CAAC;wBACP,KAAK,EAAE,EAAE;qBACV,CAAC,CAAA;oBACF,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,GAAG,GAAG,CAAC,CAAA;iBAC7B;qBAAM;oBACL,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;oBACjB,IAAI,CAAC,GAAG,CAAC;wBACP,OAAO,EAAE,QAAQ;wBACjB,OAAO,EAAE,QAAQ;wBACjB,KAAK,EAAE,EAAE,GAAG,CAAC,IAAI,GAAC,GAAG,CAAC;qBACvB,CAAC,CAAA;iBACH;gBAED,WAAO,CAAC,KAAK,EAAE,IAAI,CAAC,EAAA;;;KACrB,CAAA","sourcesContent":["import {RelativeFabricImage} from \"../Image/RelativeImage/RelativeFabricImage.js\"\r\n\r\nexport type FrameGenerator = (image: RelativeFabricImage, timeNormalized: number) => Promise<RelativeFabricImage[]>\r\n\r\nexport const LinearGenerator: FrameGenerator =\r\n  async (image, time) => {\r\n    const clone = await image.copy()\r\n\r\n    image.setPos(time + 0.5, 0.5)\r\n    clone.setPos((time - 1) + 0.5, 0.5)\r\n    return [image, clone]\r\n  }\r\n\r\nexport const RotationGenerator: FrameGenerator =\r\n  async (image, time) => {\r\n    const copy0 = await image.copy()\r\n    const copy = await image.copy()\r\n\r\n    if (time <= 0.5)\r\n      copy0.setPos(time - 0.5, 0.5)\r\n    else {\r\n      copy0.setPos(0, 1)\r\n      copy0.set({\r\n        originX: \"center\",\r\n        originY: \"bottom\",\r\n        angle: 90 * (time - 0.5)\r\n      })\r\n    }\r\n\r\n    if (time >= 0.5) {\r\n      copy.set({\r\n        angle: 90\r\n      })\r\n      copy.setPos(0.5, time + 0.5)\r\n    } else {\r\n      copy.setPos(0, 1)\r\n      copy.set({\r\n        originX: \"center\",\r\n        originY: \"bottom\",\r\n        angle: 90 * (time+0.5)\r\n      })\r\n    }\r\n\r\n    return [copy0, copy]\r\n  }\r\n"]}